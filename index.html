<!DOCTYPE html>
<html>
<head>
    <title>Matemágica</title>
</head>
<body>

    <p id="texto-questao">2 + 2 = x</p>

    <button onclick="checaQuestao('a')"><p id="a">1</p></button><br>
    <button onclick="checaQuestao('b')"><p id="b">2</p></button><br>
    <button onclick="checaQuestao('c')"><p id="c">3</p></button><br>
    <button onclick="checaQuestao('d')"><p id="d">4</p></button><br>

    <button onclick="textoDaQuestao()">Nova questão</button>

    <script>
        let respostaDaQuestao = 4;

        function textoDaQuestao() {
            var paragraph = document.getElementById("texto-questao");

            // chama função
            let questao = questaoSomaSimples();
            
            paragraph.textContent = questao;
        }

        function textoDasRespostas(vetorResposta) {
            var paragrafoA = document.getElementById("a");
            var paragrafoB = document.getElementById("b");
            var paragrafoC = document.getElementById("c");
            var paragrafoD = document.getElementById("d");

            paragrafoA.textContent = vetorResposta[0];
            paragrafoB.textContent = vetorResposta[1];
            paragrafoC.textContent = vetorResposta[2];
            paragrafoD.textContent = vetorResposta[3];
        }

        function questaoSomaSimples() {
            let primeiroNumero = getRandomInt(1, 10);
            let segundoNumero = getRandomInt(1, 10);
            let questao = `${primeiroNumero} + ${segundoNumero} = x`;
            respostaDaQuestao = primeiroNumero + segundoNumero;
            let vetorResposta = fazVetorResposta(respostaDaQuestao);
            
            // escreve respostas possíveis
            textoDasRespostas(vetorResposta);

            return questao;
        }

        function fazVetorResposta(resposta) {
            let tipo = getRandomInt(1, 4);
            
            if (tipo === 1) {
                return [resposta, resposta + 1, resposta -1, resposta + 2];
            } else if (tipo === 2) {
                return [resposta + 1, resposta, resposta + 2, resposta -1];
            } else if (tipo === 3){
                return [resposta -1, resposta + 2, resposta, resposta - 2];
            } else if (tipo === 4) {
                return [resposta + 2, resposta -1, resposta - 2, resposta];
            }
        }

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function checaQuestao(letra) {
            var paragrafo = document.getElementById(letra);

            if (paragrafo) {
                console.log(paragrafo.textContent);
                if (parseInt(paragrafo.textContent) === respostaDaQuestao) {
                    alert("Resposta correta!");
                } else {
                    alert("Resposta incorreta. Tente novamente!");
                }
            } else {
                console.log("No paragraph found with id: " + letra);
            }
        }
    </script>

</body>
</html>